define("arale/spassword/1.0.0/spassword",["$","arale/events/1.1.0/events"],function(a,b,c){function d(a){return function(){var b=a.val().length;try{a.focus(),a[0].setSelectionRange(b,b)}catch(c){}}}function e(a,b){return new Array(b+1).join(a)}var f=a("$"),g=a("arale/events/1.1.0/events"),h=6,i=function(a){this._element=f(a),this._length=parseInt(this._element.attr("maxlength"),10)||h,this._event=new g,this._mo};i.prototype={render:function(){function a(){var a=b._element.val().length;c.each(function(b){f(this).css({visibility:a>b?"visible":"hidden"})});var d=b._element.val();a===b._length&&b._event.trigger("complete",d)}var b=this;this._mo||(this._mo=f('<div class="spassword" tabIndex="0">'+e("<i><b></b></i>",this._length)+"</div>"));var c=f("b",this._mo),g=b._element.val();return setInterval(function(){var c=b._element.val();c!==g&&(g=c,a())},200),this._element.addClass("spassword").on("focus",function(){b._mo.addClass("active"),b._event.trigger("focus")}).on("blur",function(){b._mo.removeClass("active"),b._event.trigger("blur")}).after(this._mo),this._mo.focus(d(b._element)).click(d(b._element)),this},on:function(a,b){return this._event.on(a,b,this),this},off:function(a,b){return this._event.off(a,b),this},val:function(){return this._element.val()},clear:function(){return this._element.val(""),f("b",this._mo).css({visibility:"hidden"}),this},focus:function(){return d(this._element)(),this},blur:function(){return this._element.blur(),this}},c.exports=i});
